# Belldandy

<p align="center">
  <a href="./README.md"><b>ç®€ä½“ä¸­æ–‡</b></a> |
  <a href="./README.en.md">English</a>
</p>

<p align="center">
  <strong>ğŸŒŸ æœ¬åœ°ä¼˜å…ˆçš„ä¸ªäºº AI åŠ©æ‰‹</strong><br>
  åœ¨ä½ è‡ªå·±çš„è®¾å¤‡ä¸Šè¿è¡Œï¼Œé€šè¿‡å¤šç§èŠå¤©æ¸ é“ä¸ºä½ æœåŠ¡<br>
  <span style="color:#ff4d4f;font-weight:bold;">ã€é‡è¦å£°æ˜ã€‘æœ¬é¡¹ç›®ä»å¤„äºå¼€å‘ä¸æµ‹è¯•é˜¶æ®µï¼Œæµ‹è¯•ä¸ä½¿ç”¨å­˜åœ¨ä¸€å®šé£é™©ï¼Œè¯·å‹¿ç”¨äºç”Ÿäº§ç¯å¢ƒæˆ–å­˜å‚¨æ•æ„Ÿæ•°æ®ã€‚</span>
</p>

<p align="center">
  <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
  <a href="#é…ç½®æŒ‡å—">é…ç½®æŒ‡å—</a> â€¢
  <a href="#é£ä¹¦å¯¹æ¥">é£ä¹¦å¯¹æ¥</a> â€¢
  <a href="#é«˜çº§åŠŸèƒ½">é«˜çº§åŠŸèƒ½</a> â€¢
  <a href="#å¸¸è§é—®é¢˜">FAQ</a>
</p>

---

## ç®€ä»‹

Belldandy æ˜¯ä¸€ä¸ª **æœ¬åœ°ä¼˜å…ˆï¼ˆlocal-firstï¼‰** çš„ä¸ªäºº AI åŠ©æ‰‹é¡¹ç›®ã€‚å®ƒè¿è¡Œåœ¨ä½ è‡ªå·±çš„ç”µè„‘ä¸Šï¼Œæ³¨é‡éšç§ã€å®‰å…¨ï¼Œå¹¶å…·å¤‡è®°å¿†ã€å·¥å…·ä½¿ç”¨ã€è¯­éŸ³äº¤äº’ç­‰å¼ºå¤§èƒ½åŠ›ã€‚

### è®¾è®¡åŸåˆ™

- **ğŸ”’ å•äººä½¿ç”¨ã€ç§å¯†ä¼˜å…ˆ**ï¼šé»˜è®¤ä¸æä¾›å…¬å¼€åˆ†äº«åŠŸèƒ½ï¼Œæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°
- **ğŸ›¡ï¸ å®‰å…¨é»˜è®¤å€¼**ï¼šæ‰€æœ‰å…¥ç«™æ¶ˆæ¯é»˜è®¤è§†ä¸ºä¸å¯ä¿¡è¾“å…¥ï¼›å·¥å…·æ‰§è¡Œé‡‡ç”¨ç™½åå•ä¸æœ€å°æƒé™
- **ğŸ”Œ å¯æ‰©å±•**ï¼šé€šè¿‡ plugins/skills æœºåˆ¶æ‰©å±•æ¸ é“ã€å·¥å…·ä¸èƒ½åŠ›

### æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ |
|------|------|
| **è¯­è¨€** | TypeScript |
| **è¿è¡Œæ—¶** | Node.js 22+ |
| **åŒ…ç®¡ç†** | pnpm (monorepo) |
| **æ•°æ®åº“** | SQLite + FTS5 + sqlite-vec |
| **é€šä¿¡åè®®** | WebSocket |
| **å‰ç«¯** | åŸç”Ÿ JS/CSS (é›¶ä¾èµ–) |
| **æµè§ˆå™¨è‡ªåŠ¨åŒ–** | Chrome Extension (MV3) + CDP |
| **è¯­éŸ³åˆæˆ** | Edge TTS / OpenAI TTS |
| **å‘é‡æ£€ç´¢** | sqlite-vec (C++ SIMD åŠ é€Ÿ) |

### é¡¹ç›®æ¶æ„

```
Belldandy/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ belldandy-core/              # æ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ server.ts                # Gateway ä¸»å…¥å£
â”‚   â”‚   â”œâ”€â”€ logger/                  # æ—¥å¿—ç³»ç»Ÿ (æ§åˆ¶å°+æ–‡ä»¶è½®è½¬)
â”‚   â”‚   â”œâ”€â”€ heartbeat/               # å¿ƒè·³å®šæ—¶ä»»åŠ¡
â”‚   â”‚   â””â”€â”€ pairing/                 # é…å¯¹è®¤è¯ç³»ç»Ÿ
â”‚   â”‚
â”‚   â”œâ”€â”€ belldandy-agent/             # Agent è¿è¡Œæ—¶
â”‚   â”‚   â”œâ”€â”€ tool-agent.ts            # å·¥å…·è°ƒç”¨å¾ªç¯ (ReAct)
â”‚   â”‚   â”œâ”€â”€ hooks.ts                 # 13 ç§ç”Ÿå‘½å‘¨æœŸé’©å­
â”‚   â”‚   â”œâ”€â”€ hook-runner.ts           # é’©å­æ‰§è¡Œå™¨
â”‚   â”‚   â”œâ”€â”€ system-prompt.ts         # System Prompt æ„å»º
â”‚   â”‚   â””â”€â”€ templates/               # äººæ ¼æ¨¡æ¿ (SOUL/IDENTITY/...)
â”‚   â”‚
â”‚   â”œâ”€â”€ belldandy-channels/          # æ¸ é“å±‚
â”‚   â”‚   â”œâ”€â”€ types.ts                 # Channel é€šç”¨æ¥å£
â”‚   â”‚   â”œâ”€â”€ manager.ts               # å¤šæ¸ é“ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ feishu.ts                # é£ä¹¦å®ç° (WebSocket)
â”‚   â”‚
â”‚   â”œâ”€â”€ belldandy-skills/            # å·¥å…·ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ builtin/
â”‚   â”‚   â”‚   â”œâ”€â”€ fetch.ts             # ç½‘é¡µæŠ“å– (SSRF é˜²æŠ¤)
â”‚   â”‚   â”‚   â”œâ”€â”€ file.ts              # æ–‡ä»¶è¯»å†™ (è·¯å¾„éå†é˜²æŠ¤)
â”‚   â”‚   â”‚   â”œâ”€â”€ list-files.ts        # ç›®å½•åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ apply-patch/         # Diff è¡¥ä¸åº”ç”¨
â”‚   â”‚   â”‚   â”œâ”€â”€ web-search/          # ç½‘ç»œæœç´¢ (Brave/SerpAPI)
â”‚   â”‚   â”‚   â”œâ”€â”€ system/              # ç³»ç»Ÿå‘½ä»¤ (Safe Mode)
â”‚   â”‚   â”‚   â”œâ”€â”€ browser/             # æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·é›†
â”‚   â”‚   â”‚   â”œâ”€â”€ memory.ts            # è®°å¿†æ£€ç´¢å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ log.ts               # æ—¥å¿—è¯»å–ä¸æœç´¢ (log_read/log_search)
â”‚   â”‚   â”‚   â”œâ”€â”€ multimedia/          # å¤šåª’ä½“ (TTS/å›¾åƒ/æ‘„åƒå¤´)
â”‚   â”‚   â”‚   â”œâ”€â”€ methodology/         # æ–¹æ³•è®º SOP å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ session/             # ä¼šè¯ç¼–æ’ (spawn/history)
â”‚   â”‚   â”‚   â””â”€â”€ code-interpreter/    # ä»£ç è§£é‡Šå™¨ (Python/JS)
â”‚   â”‚   â”œâ”€â”€ executor.ts              # å·¥å…·æ‰§è¡Œå™¨
â”‚   â”‚   â””â”€â”€ types.ts                 # å·¥å…·ç±»å‹å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ belldandy-memory/            # è®°å¿†ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ store.ts                 # SQLite + FTS5 å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ vector.ts                # sqlite-vec å‘é‡æ£€ç´¢
â”‚   â”‚   â”œâ”€â”€ chunker.ts               # æ–‡æœ¬åˆ†å—å™¨
â”‚   â”‚   â””â”€â”€ indexer.ts               # å¢é‡ç´¢å¼•å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ belldandy-mcp/               # MCP åè®®æ”¯æŒ
â”‚   â”‚   â”œâ”€â”€ types.ts                 # MCP ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ config.ts                # é…ç½®åŠ è½½ä¸éªŒè¯
â”‚   â”‚   â”œâ”€â”€ client.ts                # MCP å®¢æˆ·ç«¯å°è£…
â”‚   â”‚   â”œâ”€â”€ tool-bridge.ts           # å·¥å…·æ¡¥æ¥å™¨
â”‚   â”‚   â””â”€â”€ manager.ts               # å¤šæœåŠ¡å™¨ç®¡ç†å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ belldandy-plugins/           # æ’ä»¶ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ registry.ts              # åŠ¨æ€åŠ è½½ + Hook èšåˆ
â”‚   â”‚
â”‚   â””â”€â”€ belldandy-browser/           # æµè§ˆå™¨æ§åˆ¶
â”‚       â””â”€â”€ relay.ts                 # WebSocket-CDP ä¸­ç»§
â”‚
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                         # WebChat å‰ç«¯
â”‚   â”‚   â””â”€â”€ public/
â”‚   â”‚       â”œâ”€â”€ index.html           # ä¸»é¡µé¢
â”‚   â”‚       â””â”€â”€ app.js               # å‰ç«¯é€»è¾‘
â”‚   â”‚
â”‚   â””â”€â”€ browser-extension/           # Chrome æ‰©å±• (MV3)
â”‚       â””â”€â”€ background.js            # chrome.debugger æ¡¥æ¥
â”‚
â””â”€â”€ ~/.belldandy/                    # ç”¨æˆ·å·¥ä½œç©ºé—´
    â”œâ”€â”€ SOUL.md                      # æ ¸å¿ƒäººæ ¼
    â”œâ”€â”€ IDENTITY.md                  # èº«ä»½è®¾å®š
    â”œâ”€â”€ USER.md                      # ç”¨æˆ·æ¡£æ¡ˆ
    â”œâ”€â”€ MEMORY.md                    # é•¿æœŸè®°å¿†
    â”œâ”€â”€ HEARTBEAT.md                 # å®šæ—¶ä»»åŠ¡
    â”œâ”€â”€ mcp.json                     # MCP æœåŠ¡å™¨é…ç½®
    â”œâ”€â”€ logs/                        # è¿è¡Œæ—¥å¿— (æŒ‰æ—¥æœŸ+å¤§å°è½®è½¬ï¼ŒAgent å¯è¯»å–)
    â”œâ”€â”€ memory/                      # æ¯æ—¥ç¬”è®°
    â”œâ”€â”€ methods/                     # SOP æ–¹æ³•è®º
    â”œâ”€â”€ skills/                      # ç”¨æˆ·è‡ªå®šä¹‰å·¥å…·
    â””â”€â”€ plugins/                     # ç”¨æˆ·æ’ä»¶
```

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows / macOS / Linux
- **Node.js**ï¼šç‰ˆæœ¬ **22.12.0** æˆ–æ›´é«˜ï¼ˆæ¨è LTSï¼‰
- **åŒ…ç®¡ç†å™¨**ï¼š`pnpm`ï¼ˆé¡¹ç›®å·²å¯ç”¨ corepack è‡ªåŠ¨ç®¡ç†ï¼‰

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

**Windows**ï¼šåŒå‡»é¡¹ç›®ç›®å½•ä¸‹çš„ `start.bat`

**macOS / Linux**ï¼š
```bash
./start.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼šæ£€æŸ¥ç¯å¢ƒ â†’ å®‰è£…ä¾èµ– â†’ å¯åŠ¨æœåŠ¡ â†’ æ‰“å¼€æµè§ˆå™¨

### æ‰‹åŠ¨å¯åŠ¨

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd Belldandy

# 2. å®‰è£…ä¾èµ–
corepack pnpm install

# 3. å¯åŠ¨ Gateway
corepack pnpm dev:gateway

# 4. æ‰“å¼€æµè§ˆå™¨è®¿é—®
# http://localhost:28889/
```

### é¦–æ¬¡é…å¯¹

ä¸ºäº†å®‰å…¨ï¼Œé¦–æ¬¡ä½¿ç”¨éœ€è¦é…å¯¹ï¼š

1. åœ¨ WebChat å‘é€æ¶ˆæ¯ï¼Œç•Œé¢ä¼šæç¤ºé…å¯¹ç ï¼ˆå¦‚ `ABC123XY`ï¼‰
2. åœ¨ç»ˆç«¯æ‰§è¡Œæ‰¹å‡†å‘½ä»¤ï¼š
   ```bash
   corepack pnpm pairing:approve ABC123XY
   ```
3. å†æ¬¡å‘é€æ¶ˆæ¯å³å¯æ­£å¸¸å¯¹è¯

---

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®Œæˆ

| æ¨¡å— | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| **åŸºç¡€æ¶æ„** | Gateway + WebChat | WebSocket å®æ—¶é€šä¿¡ã€æµå¼å›å¤ã€Markdown æ¸²æŸ“ |
| **å®‰å…¨å‡†å…¥** | Pairing é…å¯¹æœºåˆ¶ | åŸºäº ClientId çš„ç™½åå•ï¼Œé˜²æ­¢æœªæˆæƒè®¿é—® |
| **å·¥å…·ç³»ç»Ÿ** | Skills | `web_fetch`ã€`file_read/write`ã€`list_files`ã€`apply_patch`ã€`log_read`ã€`log_search` |
| **è®°å¿†ç³»ç»Ÿ** | Hybrid RAG | SQLite FTS5 + sqlite-vec å‘é‡æ··åˆæ£€ç´¢ |
| **äººæ ¼ç³»ç»Ÿ** | SOUL | å¯é…ç½®çš„ AI æ€§æ ¼ã€èº«ä»½ã€ç”¨æˆ·æ¡£æ¡ˆ |
| **æ’ä»¶ç³»ç»Ÿ** | 13 ç§ç”Ÿå‘½å‘¨æœŸé’©å­ | HookRegistry + HookRunner + ä¼˜å…ˆçº§ |
| **æµè§ˆå™¨æ§åˆ¶** | Browser Extension | æˆªå›¾ã€å¿«ç…§ã€ç‚¹å‡»ã€è¾“å…¥ã€è‡ªåŠ¨åŒ–æ“ä½œ |
| **ç³»ç»Ÿæ‰§è¡Œ** | Safe Mode | å®‰å…¨çš„ Shell å‘½ä»¤æ‰§è¡Œï¼ˆä¸¥æ ¼ç™½åå•ï¼‰ |
| **å¤šåª’ä½“** | TTS + å›¾åƒç”Ÿæˆ | Edge TTS å…è´¹è¯­éŸ³ã€DALL-E 3 å›¾åƒ |
| **è§†è§‰æ„ŸçŸ¥** | Loopback Vision | é€šè¿‡æ‘„åƒå¤´è®© Agent "çœ‹åˆ°"ä¸–ç•Œ |
| **æ–¹æ³•è®º** | SOP æ²‰æ·€ | Agent è‡ªæˆ‘è¿›åŒ–ä¸ç»éªŒå¤ç”¨ |
| **MCP æ”¯æŒ** | Model Context Protocol | è¿æ¥å¤–éƒ¨ MCP æœåŠ¡å™¨ï¼Œæ‰©å±•å·¥å…·ç”Ÿæ€ |
| **æ¸ é“** | é£ä¹¦ + Channel æ¥å£ | å¯æ‰©å±•çš„å¤šæ¸ é“æ¶æ„ |

---

## é…ç½®æŒ‡å—

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼ˆGit ä¼šè‡ªåŠ¨å¿½ç•¥ï¼‰ã€‚
å¯ä»¥å‚è€ƒä»“åº“ä¸­çš„ `.env.example` å¡«å†™å¿…éœ€çš„é…ç½®é¡¹ã€‚

### åŸºç¡€é…ç½®ï¼ˆå¿…é€‰ï¼‰

```env
# å¯ç”¨ OpenAI åè®® Provider
BELLDANDY_AGENT_PROVIDER=openai

# API æœåŠ¡åœ°å€
BELLDANDY_OPENAI_BASE_URL=https://api.openai.com/v1
# æˆ– Gemini: https://generativelanguage.googleapis.com/v1beta/openai
# æˆ–æœ¬åœ° Ollama: http://127.0.0.1:11434/v1

# API Key
BELLDANDY_OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxx

# æ¨¡å‹åç§°
BELLDANDY_OPENAI_MODEL=gpt-4o
```

> **ğŸ’¡ ä¹Ÿå¯ä»¥åœ¨ç½‘é¡µç•Œé¢è®¾ç½®**ï¼šå¯åŠ¨åç‚¹å‡»å³ä¸Šè§’ âš™ï¸ å›¾æ ‡ï¼Œå¯è§†åŒ–ä¿®æ”¹é…ç½®å¹¶è‡ªåŠ¨é‡å¯ã€‚

### è¿›é˜¶é…ç½®ï¼ˆå¯é€‰ï¼‰

```env
# ------ ç½‘ç»œä¸å®‰å…¨ ------
BELLDANDY_PORT=28889                    # æœåŠ¡ç«¯å£
BELLDANDY_AUTH_MODE=none                # none | token | password

# ------ AI èƒ½åŠ› ------
BELLDANDY_TOOLS_ENABLED=true            # å¯ç”¨å·¥å…·è°ƒç”¨
BELLDANDY_EMBEDDING_ENABLED=true        # å¯ç”¨è®°å¿†æ£€ç´¢
BELLDANDY_EMBEDDING_MODEL=text-embedding-004

# ------ å¿ƒè·³ä»»åŠ¡ ------
BELLDANDY_HEARTBEAT_ENABLED=true        # å®šæœŸæ£€æŸ¥ HEARTBEAT.md
BELLDANDY_HEARTBEAT_INTERVAL=30m        # æ”¯æŒ 30m, 1h, 300s
BELLDANDY_HEARTBEAT_ACTIVE_HOURS=08:00-23:00  # æ·±å¤œä¸æ‰“æ‰°

# ------ æµè§ˆå™¨ ------
BELLDANDY_BROWSER_RELAY_ENABLED=true    # è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨ä¸­ç»§

# ------ MCP æ”¯æŒ ------
BELLDANDY_MCP_ENABLED=true              # å¯ç”¨ MCP åè®®æ”¯æŒ

# ------ æ—¥å¿—ç³»ç»Ÿ ------
BELLDANDY_LOG_LEVEL=debug               # æœ€ä½æ—¥å¿—çº§åˆ« (debug/info/warn/error)
BELLDANDY_LOG_DIR=~/.belldandy/logs     # æ—¥å¿—ç›®å½•ï¼Œé»˜è®¤ ~/.belldandy/logs
BELLDANDY_LOG_MAX_SIZE=10MB             # å•æ–‡ä»¶æœ€å¤§å¤§å°ï¼Œè¶…è¿‡åˆ™è½®è½¬
BELLDANDY_LOG_RETENTION_DAYS=7          # æ—¥å¿—ä¿ç•™å¤©æ•°ï¼Œè¶…è¿‡è‡ªåŠ¨æ¸…ç†
BELLDANDY_LOG_CONSOLE=true              # æ˜¯å¦è¾“å‡ºåˆ°æ§åˆ¶å°
BELLDANDY_LOG_FILE=true                 # æ˜¯å¦å†™å…¥æ–‡ä»¶
```

### å·¥å…·æƒé™ä¸ç­–ç•¥ï¼ˆç®€è¦ï¼‰

- **æ–‡ä»¶è®¿é—®**ï¼šé»˜è®¤ä»…å…è®¸åœ¨å·¥ä½œåŒºèŒƒå›´å†…è¿›è¡Œè¯»å†™ï¼Œæ•æ„Ÿæ–‡ä»¶ï¼ˆå¦‚ `.env` / `SOUL.md`ï¼‰å—ä¿æŠ¤ã€‚
- **`file_write` èƒ½åŠ›**ï¼šæ”¯æŒ `overwrite/append/replace/insert`ï¼›å¯æŒ‰è¡Œå·æˆ–æ­£åˆ™æ›¿æ¢ï¼›é»˜è®¤è‡ªåŠ¨åˆ›å»ºç›®å½•ï¼›å¯é€šè¿‡ç­–ç•¥æ”¾å¼€ç‚¹æ–‡ä»¶ä¸äºŒè¿›åˆ¶ï¼ˆbase64ï¼‰å†™å…¥ï¼›åœ¨é Windows ä¸Šå†™å…¥ `.sh` ä¼šè‡ªåŠ¨ `chmod +x`ã€‚
- **å¤šå·¥ä½œåŒº**ï¼šå¯é€šè¿‡ `BELLDANDY_EXTRA_WORKSPACE_ROOTS` è¿½åŠ å¯è¯»å†™æ ¹ç›®å½•ï¼Œå®ç°è·¨é¡¹ç›®åä½œã€‚
- **ç³»ç»Ÿå‘½ä»¤**ï¼šSafe Mode ç™½åå•ï¼Œæ”¯æŒéäº¤äº’å‚æ•°æ³¨å…¥ã€å¿«é€Ÿ/æ„å»ºå‘½ä»¤åˆ†çº§è¶…æ—¶ä¸å¼ºåˆ¶ killï¼›å¯¹ `rm -r/-rf` ä¸ `del /s /q` ç­‰å±é™©å‚æ•°å¼ºæ‹¦æˆªã€‚
- **é˜²ç«å¢™è§„åˆ™**ï¼šè·¯å¾„æ‹¦æˆªä¼˜å…ˆï¼Œç¦æ­¢å‘½ä»¤è§¦è¾¾ `SOUL.md`ï¼›ç¦æ­¢ `exec` è¯»å– `.env`ã€‚
- **ç­–ç•¥è¦†ç›–**ï¼šå¯é€šè¿‡ `BELLDANDY_TOOLS_POLICY_FILE` æŒ‡å®š JSON é…ç½®è¦†ç›–é»˜è®¤ç­–ç•¥ï¼ˆè§ `.env.example`ï¼‰ã€‚

### MCP é…ç½®

[MCP (Model Context Protocol)](https://modelcontextprotocol.io/) æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–åè®®ï¼Œç”¨äº AI åŠ©æ‰‹è¿æ¥å¤–éƒ¨æ•°æ®æºå’Œå·¥å…·ã€‚

åœ¨ `~/.belldandy/mcp.json` ä¸­é…ç½® MCP æœåŠ¡å™¨ï¼š

```json
{
  "version": "1.0.0",
  "servers": [
    {
      "id": "filesystem",
      "name": "æ–‡ä»¶ç³»ç»Ÿ",
      "description": "æä¾›æ–‡ä»¶ç³»ç»Ÿè®¿é—®èƒ½åŠ›",
      "transport": {
        "type": "stdio",
        "command": "npx",
        "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path/to/allowed/dir"]
      },
      "autoConnect": true,
      "enabled": true
    },
    {
      "id": "github",
      "name": "GitHub",
      "description": "GitHub API è®¿é—®",
      "transport": {
        "type": "stdio",
        "command": "npx",
        "args": ["-y", "@modelcontextprotocol/server-github"],
        "env": {
          "GITHUB_PERSONAL_ACCESS_TOKEN": "ghp_xxxxxxxxxxxx"
        }
      },
      "autoConnect": true,
      "enabled": true
    }
  ],
  "settings": {
    "defaultTimeout": 30000,
    "debug": false,
    "toolPrefix": true
  }
}
```

**æ”¯æŒçš„ä¼ è¾“ç±»å‹**ï¼š
- `stdio`ï¼šæœ¬åœ°å­è¿›ç¨‹é€šä¿¡ï¼ˆæ¨èï¼Œé€‚ç”¨äºå¤§å¤šæ•° MCP æœåŠ¡å™¨ï¼‰
- `sse`ï¼šHTTP Server-Sent Eventsï¼ˆé€‚ç”¨äºè¿œç¨‹æœåŠ¡å™¨ï¼‰

**å¸¸ç”¨ MCP æœåŠ¡å™¨**ï¼š
- `@modelcontextprotocol/server-filesystem` - æ–‡ä»¶ç³»ç»Ÿè®¿é—®
- `@modelcontextprotocol/server-github` - GitHub API
- `@modelcontextprotocol/server-sqlite` - SQLite æ•°æ®åº“
- `@modelcontextprotocol/server-puppeteer` - æµè§ˆå™¨è‡ªåŠ¨åŒ–

> ğŸ’¡ å¯ç”¨ MCP éœ€è¦åŒæ—¶å¯ç”¨å·¥å…·ç³»ç»Ÿï¼ˆ`BELLDANDY_TOOLS_ENABLED=true`ï¼‰

---

## ä¸ªæ€§åŒ–å®šåˆ¶

Belldandy çš„æ•°æ®å­˜å‚¨åœ¨ `~/.belldandy/` ç›®å½•ä¸‹ã€‚

### äººæ ¼å¡‘é€ 

| æ–‡ä»¶ | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| `SOUL.md` | æ ¸å¿ƒæ€§æ ¼ | "ä½ æ˜¯ä¸€ä¸ªä¸¥è°¨çš„ TypeScript ä¸“å®¶..." |
| `IDENTITY.md` | èº«ä»½è®¾å®š | "ä½ çš„åå­—å« Belldandyï¼Œæ˜¯ä¸€çº§ç¥..." |
| `USER.md` | ç”¨æˆ·æ¡£æ¡ˆ | "ç”¨æˆ·å« vrboyzeroï¼Œå…¨æ ˆå·¥ç¨‹å¸ˆ..." |

### è®°å¿†ç³»ç»Ÿ

| è·¯å¾„ | ç”¨é€” |
|------|------|
| `MEMORY.md` | é•¿æœŸè®°å¿†ï¼ˆæ ¸å¿ƒäº‹å®ï¼‰ |
| `memory/YYYY-MM-DD.md` | æ¯æ—¥æµæ°´ç¬”è®° |

### å®šæ—¶æé†’

ç¼–è¾‘ `HEARTBEAT.md`ï¼š
```markdown
- [ ] æ¯å¤©æ—©ä¸Šæé†’æˆ‘æŸ¥çœ‹æ—¥ç¨‹
- [ ] å–æ°´æé†’
```

### æ—¥å¿—ç³»ç»Ÿ

è¿è¡Œæ—¥å¿—ä¿å­˜åœ¨ `~/.belldandy/logs/` ç›®å½•ï¼Œæ”¯æŒï¼š

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **åŒè¾“å‡º** | åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶ |
| **æŒ‰æ—¥æœŸåˆ†æ–‡ä»¶** | å¦‚ `gateway-2025-02-05.log` |
| **æŒ‰å¤§å°è½®è½¬** | å•æ–‡ä»¶è¶…è¿‡ 10MB è‡ªåŠ¨åˆ‡åˆ† |
| **è‡ªåŠ¨æ¸…ç†** | è¶…è¿‡ä¿ç•™å¤©æ•°ï¼ˆé»˜è®¤ 7 å¤©ï¼‰çš„æ—¥å¿—è‡ªåŠ¨åˆ é™¤ |
| **Agent å¯è¯»** | Agent å¯é€šè¿‡ `log_read`ã€`log_search` å·¥å…·å›æº¯æ—¥å¿—ï¼Œç†è§£ä»»åŠ¡æ‰§è¡Œæƒ…å†µ |

ç¯å¢ƒå˜é‡è§ [è¿›é˜¶é…ç½®](#è¿›é˜¶é…ç½®) ä¸­çš„ `BELLDANDY_LOG_*` é…ç½®é¡¹ã€‚

### æ–¹æ³•è®ºç³»ç»Ÿ (Methods)

> ä½¿ç”¨çš„å·¥å…·éœ€è¦ç¨³å®šæ€§ï¼Œå·¥ä½œçš„æ–¹å¼éœ€è¦å¯å˜æ€§ã€‚Skills ç®¡çš„æ˜¯â€œèƒ½åšä»€ä¹ˆâ€ï¼ŒMethods ç®¡çš„æ˜¯â€œä»¥ååº”è¯¥æ€ä¹ˆåšâ€ã€‚

Belldandy åœ¨æ™®é€š Skills ä½“ç³»ä¹‹ä¸Šï¼Œä¸“é—¨ä¸º **é•¿è®°å¿†ã€é•¿æœŸé™ªä¼´** çš„ä¸ªäºº Agent è®¾è®¡äº†ä¸€å¥— **æ–¹æ³•è®ºç³»ç»Ÿ (Methodology)**ï¼Œæ ¸å¿ƒç”±å››éƒ¨åˆ†ç»„æˆï¼š

- **Agent**ï¼šç”± `SOUL.md` / `AGENTS.md` / `USER.md` / `TOOLS.md` ç­‰ Workspace æ–‡ä»¶å¡‘é€ çš„äººæ ¼ä¸å†³ç­–å±‚ã€‚
- **Skills**ï¼šæ‰§è¡Œå…·ä½“åŠ¨ä½œçš„å·¥å…·é›†åˆï¼ˆè¯»å†™æ–‡ä»¶ã€ç½‘ç»œè¯·æ±‚ã€æµè§ˆå™¨æ§åˆ¶ã€å‘½ä»¤æ‰§è¡Œã€Memory æ£€ç´¢ç­‰ï¼‰ã€‚
- **Methods**ï¼šå­˜æ”¾åœ¨ `~/.belldandy/methods/` ä¸‹çš„ Markdown SOP æ–‡æ¡£ï¼Œæ˜¯ Agent çš„ã€Œåšäº‹æ–¹å¼è®°å¿†ã€ï¼Œé€šè¿‡ `method_list` / `method_read` / `method_create` å·¥å…·è¯»å†™ã€‚
- **Logs**ï¼šç»“æ„åŒ–æ–‡ä»¶æ—¥å¿—ï¼ˆ`~/.belldandy/logs/*.log`ï¼‰ï¼Œé…åˆ `log_read` / `log_search` è®© Agent è‡ªå·±èƒ½ç¿»æ‰§è¡Œè®°å½•ã€æŸ¥é”™è¯¯ã€çœ‹æ€§èƒ½ã€‚

è¿™å››è€…å½¢æˆä¸€æ¡é—­ç¯ï¼Œè®© Agent ä¸å†åªæ˜¯â€œä¸‹ä¸€æ¬¡å†æƒ³ä¸€éâ€ï¼Œè€Œæ˜¯é€æ­¥é•¿å‡ºè‡ªå·±çš„æ–¹æ³•è®ºï¼š

- **äº‹å‰ï¼šå…ˆæŸ¥æ–¹æ³•ï¼Œä¸ç›²å¹²**
  - é‡åˆ°éƒ¨ç½²ã€ç³»ç»Ÿé…ç½®ã€è·¨å¤šæ–‡ä»¶å¤§æ”¹ã€å¯¹æ¥å¹³å°ç­‰å¤æ‚ä»»åŠ¡æ—¶ï¼š
    - ç”¨ `method_list` çœ‹çœ‹æ˜¯å¦å·²æœ‰ç›¸å…³æ–¹æ³•ï¼›
    - å†ç”¨ `method_read` è¯»å‡º SOPï¼ŒæŒ‰æ­¥éª¤æ‰§è¡Œï¼›
    - æ²¡æœ‰æ–¹æ³•æ—¶ï¼Œåˆ™è§†ä¸ºã€Œç¬¬ä¸€æ¬¡æ¢ç´¢ã€ï¼Œå…è®¸è‡ªç”±ç»„åˆ Skills è§£å†³é—®é¢˜ã€‚
- **äº‹ä¸­ï¼šæ‰€æœ‰å°è¯•éƒ½æœ‰â€œäº‹å®è®°å½•â€**
  - æ¯æ¬¡å·¥å…·è°ƒç”¨ã€é”™è¯¯ã€æ…¢æŸ¥è¯¢ã€å¿ƒè·³æ‰§è¡Œï¼Œéƒ½ä¼šå†™å…¥ `~/.belldandy/logs/YYYY-MM-DD.log`ï¼ŒåŒ…å«æ—¶é—´ã€æ¨¡å—ã€çº§åˆ«ã€å‚æ•°æ‘˜è¦å’Œè€—æ—¶ï¼›
  - Agent å¯ä»¥éšæ—¶ä½¿ç”¨ `log_read` / `log_search` å›çœ‹ï¼šæœ€è¿‘å“ªäº›æ­¥éª¤å¤±è´¥ã€å“ªäº›è°ƒç”¨è¿‡æ…¢ã€æŸä¸ªé”™è¯¯æ˜¯å¦åå¤å‡ºç°ã€‚
- **äº‹åï¼šä»æ—¥å¿—åˆ°æ–¹æ³•ï¼Œæ²‰æ·€ç»éªŒ**
  - å½“æŸä¸ªä»»åŠ¡æœ€ç»ˆæå®šï¼ˆå“ªæ€•ä¸­é—´è¸©äº†å¾ˆå¤šå‘ï¼‰æ—¶ï¼ŒAgent å¯ä»¥ï¼š
    - ç”¨ `log_search` å›æ”¾è¿™æ®µæ—¶é—´çš„é”™è¯¯ä¸ä¿®å¤è·¯å¾„ï¼›
    - æ€»ç»“å‡ºä¸€å¥—ç¨³å®šå¯å¤ç”¨çš„åšæ³•ï¼›
    - ç”¨ `method_create` å†™æˆæ–¹æ³•æ–‡æ¡£ï¼ˆä¾‹å¦‚ `Feishu-connection-debug.md`ã€`Project-deploy-basic.md`ï¼‰ï¼ŒåŒ…å«é€‚ç”¨åœºæ™¯ã€æ­¥éª¤ã€ç”¨åˆ°çš„ Skillsã€å¸¸è§å‘ç­‰ã€‚
- **ä¸‹æ¬¡ï¼šå…ˆç”¨æ–¹æ³•ï¼Œå†åšå¾®è°ƒ**
  - å†é‡åˆ°ç±»ä¼¼ä»»åŠ¡æ—¶ï¼š
    - å…ˆ `method_list` / `method_read` æ‰¾åˆ°å¯¹åº”æ–¹æ³•ï¼›
    - åœ¨å…¶åŸºç¡€ä¸Šå°‘é‡è°ƒæ•´ï¼Œè€Œä¸æ˜¯é‡æ–°ç»å†ä¸€æ•´è½®â€œè¯•é”™ â†’ Debug â†’ æˆåŠŸâ€ï¼›
    - å¦‚æœç¯å¢ƒå˜åŒ–å¯¼è‡´æ–°é—®é¢˜ï¼Œå†é€šè¿‡æ—¥å¿— + `method_create` æ›´æ–°åŸæœ‰æ–¹æ³•ï¼Œè®© SOP éšç¯å¢ƒè¿›åŒ–ã€‚

**ç®€è¨€ä¹‹**ï¼š

- **Skills** æä¾›ã€Œèƒ½åšä»€ä¹ˆã€ï¼Œ
- **Logs** è®°å½•ã€Œåšäº†ä»€ä¹ˆã€ï¼Œ
- **Methods** æŠ½è±¡å‡ºã€Œä»¥ååº”è¯¥æ€ä¹ˆåšã€ï¼Œ
- **Agent** åœ¨è¿™ä¸‰è€…ä¹‹é—´å¾ªç¯ï¼Œè®©è‡ªå·±ä»ä¼šç”¨å·¥å…·ï¼Œè¿›åŒ–ä¸ºã€Œæœ‰è‡ªå·±ä¸€å¥—åšäº‹æ–¹å¼ã€çš„é•¿æœŸä¼™ä¼´ã€‚

**å…³é”®ä¼˜åŠ¿ï¼šä¸ºé•¿è®°å¿† Agent è§£é”è‡ªåŠ¨åŒ– & æŒç»­æ”¹è¿› & å¯ç»„åˆæ€§**

- **è‡ªåŠ¨åŒ–**ï¼š
  - é‡å¤çš„ä¸šåŠ¡ä»»åŠ¡ä¸å†ä¾èµ–â€œç°åœº prompt ç¼–æ’â€ï¼Œè€Œæ˜¯å†™æˆæœ‰ç‰ˆæœ¬çš„ SOPï¼ˆMethodsï¼‰ï¼Œå†é€šè¿‡å¿ƒè·³ (`HEARTBEAT.md`) æˆ–ä»»åŠ¡è§¦å‘åå¤æ‰§è¡Œï¼›
  - ä¿®æ”¹æ–¹æ³•æ–‡æ¡£ï¼Œå°±ç­‰ä»·äºç»™æ•´æ¡è‡ªåŠ¨åŒ–æµæ°´çº¿å‘æ–°ç‰ˆæœ¬â€”â€”ä¸‹æ¬¡è‡ªåŠ¨æ‰§è¡Œæ—¶ä¼šæŒ‰æ–°æµç¨‹è·‘ã€‚

- **æŒç»­æ”¹è¿›**ï¼š
  - æ¯æ¬¡å¤±è´¥/è°ƒè¯•çš„ç»†èŠ‚éƒ½è¿›å…¥æ—¥å¿—ï¼ŒAgent å¯ä»¥ç”¨ `log_search` èšåˆè¿™äº›é”™è¯¯ï¼Œå†ç”¨ `method_create` æŠŠæ•™è®­å†™å…¥æ–¹æ³•ï¼›
  - æ›´æ–°æ–¹æ³• = ä¿®æ”¹ Agent åœ¨è¯¥åœºæ™¯ä¸‹çš„é»˜è®¤è¡Œä¸ºï¼Œè®©å®ƒåœ¨åŒä¸€å°æœºå™¨ã€åŒä¸€ä¸ªé¡¹ç›®ä¸Šè¶Šç”¨è¶Šç¨³ã€è¶Šç”¨è¶Šå¿«ã€‚

- **å¯ç»„åˆæ€§**ï¼š
  - æ¯ä¸ªæ–¹æ³•æ–‡æ¡£éƒ½æ˜¯ä¸€ä¸ªå¯å¤ç”¨çš„â€œä¸šåŠ¡ç§¯æœ¨â€ï¼ˆå¦‚ã€Œ1688 é€‰å“ã€ã€ã€ŒAmazon ä¸Šæ¶ã€ã€ã€Œæ—¥å¸¸ç›‘æ§ã€ï¼‰ï¼›
  - æ›´å¤æ‚çš„èµšé’±æˆ–è¿ç»´åœºæ™¯ï¼Œåªéœ€åœ¨ã€Œpipeline ç±»æ–¹æ³•ã€é‡Œç»„åˆè¿™äº›ç§¯æœ¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡ä»åŸå­ Skills é‡æ­æ•´ä¸ªæµç¨‹ã€‚

> å…³äºâ€œä» 1688 é€‰å“åˆ° Amazon æŒç»­ä¸Šæ–°â€çš„å®Œæ•´æ–¹æ³•è®ºç¤ºä¾‹ï¼Œä»¥åŠæ–¹æ³•å¦‚ä½•ä¸ Heartbeatã€æ—¥å¿—ç³»ç»ŸååŒè‡ªåŠ¨è·‘ä¸šåŠ¡æµæ°´çº¿ï¼Œå¯å‚è€ƒä»“åº“ä¸­çš„ [`Methodsæ–¹æ³•è®ºç¤ºä¾‹ä¸è¯´æ˜.md`](./Methodsæ–¹æ³•è®ºç¤ºä¾‹ä¸è¯´æ˜.md)ã€‚

---

## é£ä¹¦å¯¹æ¥

è®© Belldandy é€šè¿‡é£ä¹¦ä¸ä½ å¯¹è¯â€”â€”æ— éœ€å…¬ç½‘ IPï¼

### 1. åˆ›å»ºé£ä¹¦åº”ç”¨

1. ç™»å½• [é£ä¹¦å¼€æ”¾å¹³å°](https://open.feishu.cn/)
2. ç‚¹å‡» **"å¼€å‘è€…åå°"** â†’ **"åˆ›å»ºä¼ä¸šè‡ªå»ºåº”ç”¨"**
3. å¡«å†™åº”ç”¨ä¿¡æ¯å¹¶åˆ›å»º

### 2. è·å–å‡­è¯

åœ¨åº”ç”¨è¯¦æƒ…é¡µçš„ **"å‡­è¯ä¸åŸºç¡€ä¿¡æ¯"** ä¸­è®°å½•ï¼š
- **App ID**
- **App Secret**

### 3. é…ç½®æƒé™ä¸æœºå™¨äºº

1. **å¼€å¯æœºå™¨äºº**ï¼šåº”ç”¨åŠŸèƒ½ â†’ æœºå™¨äºº â†’ å¯ç”¨
2. **ç”³è¯·æƒé™**ï¼šå¼€å‘é…ç½® â†’ æƒé™ç®¡ç† â†’ å¼€é€šï¼š
   - `im:message`ï¼ˆè·å–æ¶ˆæ¯ï¼‰
   - `im:message:send_as_bot`ï¼ˆå‘é€æ¶ˆæ¯ï¼‰
   - `im:resource`ï¼ˆè·å–èµ„æºï¼‰
3. **é…ç½®é•¿è¿æ¥**ï¼šå¼€å‘é…ç½® â†’ äº‹ä»¶è®¢é˜… â†’ é€‰æ‹©"é•¿è¿æ¥æ¨¡å¼" â†’ æ·»åŠ  `im.message.receive_v1` äº‹ä»¶
4. **å‘å¸ƒåº”ç”¨**ï¼šåº”ç”¨å‘å¸ƒ â†’ ç‰ˆæœ¬ç®¡ç† â†’ åˆ›å»ºç‰ˆæœ¬ â†’ ç”³è¯·å‘å¸ƒ

### 4. é…ç½® Belldandy

åœ¨ `.env.local` ä¸­æ·»åŠ ï¼š
```env
BELLDANDY_FEISHU_APP_ID=cli_xxxxxxxxxxxxxxxx
BELLDANDY_FEISHU_APP_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

### 5. å¯åŠ¨ä½¿ç”¨

```bash
corepack pnpm dev:gateway
```

çœ‹åˆ° `Feishu WebSocket Channel started.` å’Œ `ws client ready` å³è¿æ¥æˆåŠŸã€‚æ‰“å¼€é£ä¹¦æœç´¢åº”ç”¨åç§°å¼€å§‹å¯¹è¯ï¼

---

## é«˜çº§åŠŸèƒ½

### æµè§ˆå™¨è‡ªåŠ¨åŒ–

è®© Agent æ§åˆ¶æµè§ˆå™¨æ‰“å¼€ç½‘é¡µã€æˆªå›¾ã€æå–å†…å®¹ã€‚

1. **å¯ç”¨ä¸­ç»§**ï¼šåœ¨ `.env.local` æ·»åŠ  `BELLDANDY_BROWSER_RELAY_ENABLED=true`
2. **å®‰è£…æ‰©å±•**ï¼š
   - æ‰“å¼€ `chrome://extensions`
   - å¼€å¯"å¼€å‘è€…æ¨¡å¼"
   - ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
   - é€‰æ‹© `apps/browser-extension` ç›®å½•
3. **è¿æ¥**ï¼šç‚¹å‡»æµè§ˆå™¨å·¥å…·æ çš„æ‰©å±•å›¾æ ‡ï¼Œæ˜¾ç¤º Connected å³å¯

### è¯­éŸ³äº¤äº’

æ”¯æŒå…è´¹é«˜è´¨é‡çš„ Edge TTSï¼ˆå¾®è½¯æ™“æ™“/äº‘å¸Œï¼‰ã€‚

- **å¼€å¯**ï¼šå¯¹ Agent è¯´"å¼€å¯è¯­éŸ³æ¨¡å¼"
- **å…³é—­**ï¼šå¯¹ Agent è¯´"å…³é—­è¯­éŸ³"

### è§†è§‰æ„ŸçŸ¥

è®© Agent é€šè¿‡æ‘„åƒå¤´"çœ‹åˆ°"ä¸–ç•Œã€‚

- å‰æï¼šå·²å®Œæˆæµè§ˆå™¨è‡ªåŠ¨åŒ–è¿æ¥
- ä½¿ç”¨ï¼šå¯¹ Agent è¯´"æ‹å¼ ç…§"æˆ–"çœ‹çœ‹æˆ‘ç°åœ¨åœ¨å“ª"

### æ’ä»¶ç³»ç»Ÿ

æ”¯æŒ 13 ç§ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š

| ç±»åˆ« | é’©å­ |
|------|------|
| Agent | `before_agent_start`, `agent_end`, `before_compaction`, `after_compaction` |
| æ¶ˆæ¯ | `message_received`, `message_sending`, `message_sent` |
| å·¥å…· | `before_tool_call`, `after_tool_call`, `tool_result_persist` |
| ä¼šè¯ | `session_start`, `session_end` |
| ç½‘å…³ | `gateway_start`, `gateway_stop` |

æ’ä»¶æ”¾åˆ° `~/.belldandy/plugins/` ç›®å½•ï¼ŒGateway å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ã€‚

---

## ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹å·²æˆæƒè®¾å¤‡
corepack pnpm pairing:list

# æŸ¥çœ‹å¾…æ‰¹å‡†è¯·æ±‚
corepack pnpm pairing:pending

# æ‰¹å‡†é…å¯¹
corepack pnpm pairing:approve <CODE>

# æ’¤é”€æˆæƒ
corepack pnpm pairing:revoke <CLIENT_ID>

# æ¸…ç†è¿‡æœŸè¯·æ±‚
corepack pnpm pairing:cleanup

# å¤‡ä»½ä¸æ¢å¤
corepack pnpm pairing:export --out backup.json
corepack pnpm pairing:import --in backup.json
```

---

## å¸¸è§é—®é¢˜

**Q: å¯åŠ¨æ—¶æç¤º `EADDRINUSE` ç«¯å£è¢«å ç”¨ï¼Ÿ**

A: ä¿®æ”¹ `.env.local` ä¸­çš„ç«¯å£ï¼š`BELLDANDY_PORT=28890`

**Q: å¦‚ä½•ä»å¤–ç½‘è®¿é—®ï¼Ÿ**

A: ä½¿ç”¨ Cloudflare Tunnel æˆ– Frp ç­‰å†…ç½‘ç©¿é€å·¥å…·ï¼Œå¹¶å¼€å¯ `BELLDANDY_AUTH_MODE=token`

**Q: è®°å¿†æ£€ç´¢ä¸å‡†ï¼Ÿ**

A: ç¡®ä¿é…ç½®äº† Embedding æ¨¡å‹ä¸” `BELLDANDY_EMBEDDING_ENABLED=true`

**Q: Windows ä¸‹å¯ä»¥æ‰§è¡Œ CMD å‘½ä»¤å—ï¼Ÿ**

A: å¯ä»¥ã€‚å·²æ”¯æŒ `copy`, `move`, `del`, `ipconfig` ç­‰åŸç”Ÿå‘½ä»¤ã€‚æ³¨æ„ `del` ç¦æ­¢ `/s`ã€`/q` å‚æ•°ã€‚

**Q: é£ä¹¦å‘é€æ¶ˆæ¯åä¸å›å¤ï¼Ÿ**

A: æ£€æŸ¥ï¼š
1. åº”ç”¨å·²å‘å¸ƒä¸”å®¡æ ¸é€šè¿‡
2. æƒé™å·²æ­£ç¡®å¼€é€š
3. å·²æ·»åŠ  `im.message.receive_v1` äº‹ä»¶è®¢é˜…

---

## é¡¹ç›®ç»“æ„

```
packages/
â”œâ”€â”€ belldandy-core/      # Gatewayã€åè®®ã€é…ç½®ã€å®‰å…¨ç­–ç•¥
â”œâ”€â”€ belldandy-agent/     # Agent è¿è¡Œæ—¶ã€å·¥å…·ç¼–æ’ã€æµå¼è¾“å‡º
â”œâ”€â”€ belldandy-channels/  # æ¸ é“æ¥å£ï¼ˆé£ä¹¦ã€Telegram ç­‰ï¼‰
â”œâ”€â”€ belldandy-skills/    # Skills å®šä¹‰ä¸æ‰§è¡Œ
â”œâ”€â”€ belldandy-memory/    # è®°å¿†ç´¢å¼•ä¸æ£€ç´¢
â”œâ”€â”€ belldandy-plugins/   # æ’ä»¶ç³»ç»Ÿ
â””â”€â”€ belldandy-browser/   # æµè§ˆå™¨è‡ªåŠ¨åŒ–

apps/
â”œâ”€â”€ web/                 # WebChat å‰ç«¯
â””â”€â”€ browser-extension/   # Chrome æ‰©å±•
```

---

## å¼€å‘è€…ä¿¡æ¯

### å‚è€ƒé¡¹ç›®

æœ¬é¡¹ç›®å‚è€ƒ [moltbot](https://github.com/moltbot/moltbot) æ¶æ„è®¾è®¡ï¼Œä»£ç å®Œå…¨é‡å†™ã€‚

### ç›¸å…³æ–‡æ¡£

- [Belldandyå®ç°å†…å®¹è¯´æ˜.md](./Belldandyå®ç°å†…å®¹è¯´æ˜.md) - è¯¦ç»†åŠŸèƒ½è¯´æ˜
- [Belldandyä½¿ç”¨æ‰‹å†Œ.md](./Belldandyä½¿ç”¨æ‰‹å†Œ.md) - å®Œæ•´ä½¿ç”¨æŒ‡å—

---

## èµåŠ©æ”¯æŒ

å¦‚æœ Belldandy å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿è¯·ä½œè€…å–æ¯å’–å•¡ â˜•

å¼€å‘å’Œç»´æŠ¤å¼€æºé¡¹ç›®éœ€è¦æŠ•å…¥å¤§é‡æ—¶é—´å’Œç²¾åŠ›ï¼Œä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­æ›´æ–°çš„åŠ¨åŠ›ï¼

### çˆ±å‘ç”µ

[![çˆ±å‘ç”µ](https://img.shields.io/badge/çˆ±å‘ç”µ-æ”¯æŒä½œè€…-946ce6?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDIxLjM1bC0xLjQ1LTEuMzJDNS40IDE1LjM2IDIgMTIuMjggMiA4LjUgMiA1LjQyIDQuNDIgMyA3LjUgM2MxLjc0IDAgMy40MS44MSA0LjUgMi4wOUMxMy4wOSAzLjgxIDE0Ljc2IDMgMTYuNSAzIDE5LjU4IDMgMjIgNS40MiAyMiA4LjVjMCAzLjc4LTMuNCA2Ljg2LTguNTUgMTEuNTRMMTIgMjEuMzV6Ii8+PC9zdmc+)](https://afdian.com/a/vrboyzero777)

ğŸ‘‰ [https://afdian.com/a/vrboyzero777](https://afdian.com/a/vrboyzero777)

### å¾®ä¿¡ / æ”¯ä»˜å®

<p align="center">
  <img src="./assets/wechat.png" alt="å¾®ä¿¡æ”¶æ¬¾ç " width="200">
  &nbsp;&nbsp;&nbsp;&nbsp;
  <img src="./assets/alipay.jpg" alt="æ”¯ä»˜å®æ”¶æ¬¾ç " width="200">
</p>

æ„Ÿè°¢æ¯ä¸€ä½æ”¯æŒè€…ï¼ğŸ™

---

## è”ç³»æ–¹å¼

- **Email**ï¼š[fyyx4918822@gmail.com](mailto:fyyx4918822@gmail.com)
- **QQ ç¾¤**ï¼š1080383003
- **é—®é¢˜åé¦ˆ**ï¼š[GitHub Issues](https://github.com/vrboyzero/Belldandy/issues)

æ¬¢è¿äº¤æµã€åé¦ˆ Bug æˆ–æå‡ºå»ºè®®ï¼

---

## License

MIT

---

<p align="center">
  <em>Belldandy - Your Personal AI Assistant</em>
</p>
